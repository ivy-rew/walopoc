<html xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
  xmlns:ic="http://ivyteam.ch/jsf/component" xmlns:p="http://primefaces.org/ui"
  xmlns:pe="http://primefaces.org/ui/extensions">
<h:body>
  <ui:composition template="/layouts/frame-10-full-width.xhtml">
    <ui:define name="title">LeadGUI</ui:define>
    <ui:define name="content">
    
    <style>
 iframe {
  min-height: 400px;
  height: 100%;
  width: 100%;
  resize: both;
  overflow: auto;
}   
    
    
    </style>



      <h:form id="form">
        <p:messages />
 
         <p:wizard >

 


         
         
            <p:tab id="project" title="Projekt">
  
          <p:panel header="Projektauswahl">
                    <p:messages/>
			         <p:panelGrid rendered="#{data.bvisSearch}" columns="4" layout="grid" styleClass="ui-panelgrid-blank ui-fluid" 
			          columnClasses="ui-g-12 ui-md-3 ui-lg-2, ui-g-12 ui-md-9 ui-lg-4, ui-g-12 ui-md-3 ui-lg-2, ui-g-12 ui-md-9 ui-lg-4">
					
<!--                			 <p:autoComplete id="acMinLength" minQueryLength="3" var="proj" value="#{data.leadProcessData.businessObject.projectConnect}"  -->
<!--                                 completeMethod="#{logic.searchProjectsAC}" effect="fade" scrollHeight="250" itemLabel="#{proj.projectName}"  itemValue="#{proj}" > -->
<!--                           <p:ajax listener="#{logic.projectSelected}" process="@this"  update="form"></p:ajax>        -->
<!--                          </p:autoComplete>						 -->
                          <p:outputLabel value="Suche"></p:outputLabel>
               			 <p:autoComplete id="acMinLength" minQueryLength="3"  value="#{data.selectedProjectIdConnector}"  
                               completeMethod="#{logic.searchProjectsACId}" effect="fade" scrollHeight="250"   > 
                           <p:ajax listener="#{logic.projectSelected}" process="@this"  update="form"></p:ajax>        
                          </p:autoComplete>		
                           <br></br>
                           <p:commandButton id="createProject" actionListener="#{logic.addProject}" value="Neues Projekt anlegen" update="form" icon="fa-solid fa-plus-square" /> 
                           
                          							


					</p:panelGrid>
					
					
					
        <p:panelGrid columns="4" layout="grid" styleClass="ui-panelgrid-blank ui-fluid" 
          columnClasses="ui-g-12 ui-md-3 ui-lg-2, ui-g-12 ui-md-9 ui-lg-4, ui-g-12 ui-md-3 ui-lg-2, ui-g-12 ui-md-9 ui-lg-4">

          <p:outputLabel for="leadProcessDataBusinessObjectProjectName" value="Pojektname" />
          <p:inputText id="leadProcessDataBusinessObjectProjectName" value="#{data.leadProcessData.businessObject.project.projectConnect.projectName}"></p:inputText>
          


          <p:outputLabel for="leadProcessDataBusinessObjectProjectBudget" value="Budget" />
<!--           <p:inputText id="leadProcessDataBusinessObjectProjectBudget" value="#{data.leadProcessData.businessObject.project.budget}"></p:inputText> -->

                <p:inputNumber id="leadProcessDataBusinessObjectProjectBudget" value="#{data.leadProcessData.businessObject.project.budget}" symbol=" CHF"
                                symbolPosition="s" decimalSeparator="," thousandSeparator="." /> 
 
 
 
 
          
          <p:outputLabel for="leadProcessDataBusinessObjectProjectGeschaeftsBereich" value="Geschaefts Bereich" />
          <p:inputText id="leadProcessDataBusinessObjectProjectGeschaeftsBereich" value="#{data.leadProcessData.businessObject.project.geschaeftsBereich}"></p:inputText>
          

          <p:outputLabel for="leadProcessDataBusinessObjectProjectProjectStart" value="Project Start" />
          <p:datePicker id="leadProcessDataBusinessObjectProjectProjectStart" value="#{data.leadProcessData.businessObject.project.projectStart}" pattern="dd.MM.yyyy">
            <f:convertDateTime pattern="dd.MM.yyyy" />
          </p:datePicker>
          
         

        </p:panelGrid>


<!--           <p:outputLabel for="leadProcessDataBusinessObjectProjectProjectDetails" value="Project Details" /> -->
<!--           <p:inputText id="leadProcessDataBusinessObjectProjectProjectDetails" value="#{data.leadProcessData.businessObject.project.projectDetails}"></p:inputText> -->
          <p:textEditor placeholder="Projekt Details"  id="leadProcessDataBusinessObjectProjectProjectDetails" widgetVar="editor1" value="#{data.leadProcessData.businessObject.project.projectDetails}" height="200"  />

        
		<ic:com.axonivy.portal.components.DocumentTable typeColumnRendered="false" />




						</p:panel>
            </p:tab>       
 
 
  		  <p:tab id="kunde" title="Kunde">
           <p:panel header="Kundensuche" rendered="#{data.bvisSearch}">
 			         <p:panelGrid columns="2" layout="grid" styleClass="ui-panelgrid-blank ui-fluid" 
			          columnClasses="ui-g-12 ui-md-3 ui-lg-2, ui-g-12 ui-md-9 ui-lg-4, ui-g-12 ui-md-3 ui-lg-2, ui-g-12 ui-md-9 ui-lg-4">
					
					
                          <p:outputLabel value="Suche"></p:outputLabel>
               			 <p:autoComplete id="acCustomer" minQueryLength="3"  value="#{data.selectedCustomerIdConnector}"  
                               completeMethod="#{logic.searchCustomerACId}" effect="fade" scrollHeight="250"   > 
                           <p:ajax listener="#{logic.customerSelected}" process="@this"  update="form"></p:ajax>        
                          </p:autoComplete>									


					</p:panelGrid>
          </p:panel>
          <p:panel header="Details">
        <p:panelGrid columns="4" layout="grid" styleClass="ui-panelgrid-blank ui-fluid" 
          columnClasses="ui-g-12 ui-md-3 ui-lg-2, ui-g-12 ui-md-9 ui-lg-4, ui-g-12 ui-md-3 ui-lg-2, ui-g-12 ui-md-9 ui-lg-4">
  
        <p:outputLabel for="codeName" value="Name" />
        <p:inputText id="codeName" value="#{data.leadProcessData.businessObject.customer.customerConnect.codeName}"></p:inputText>
        
        </p:panelGrid>
 
         <p:panelGrid columns="4" layout="grid" styleClass="ui-panelgrid-blank ui-fluid" 
          columnClasses="ui-g-12 ui-md-6 ui-lg-3, ui-g-12 ui-md-6 ui-lg-3, ui-g-12 ui-md-6 ui-lg-3, ui-g-12 ui-md-6 ui-lg-3">
          
<!--           #{data.leadProcessData.businessObject.customer.customerConnect.addressData[0].codeName} -->
         <p:repeat var="address" value="#{data.leadProcessData.businessObject.customer.customerConnect.addressData}">
        
         <h:panelGroup>
         <p:panel header="Addresse ">
          <p:panelGrid columns="2" layout="grid" styleClass="ui-panelgrid-blank ui-fluid" 
          columnClasses="ui-g-12 ui-md-6 ui-lg-6, ui-g-12 ui-md-6 ui-lg-6, ui-g-12 ui-md-6 ui-lg-2, ui-g-12 ui-md-6 ui-lg-4">
      
         <p:outputLabel value="Email"></p:outputLabel>
         <p:outputLabel value="#{address.email}" ></p:outputLabel>
         <p:outputLabel value="Line 1"></p:outputLabel>
         <p:outputLabel value="#{address.line1}" ></p:outputLabel>
         <p:outputLabel value="Line 2"></p:outputLabel>
         <p:outputLabel value="#{address.additionalLine}" ></p:outputLabel>
         <p:outputLabel value="City"></p:outputLabel>
         <p:outputLabel value="#{address.city}"></p:outputLabel>
         </p:panelGrid>
         </p:panel>
         </h:panelGroup>
         
         </p:repeat>
 
 
 
           
<!-- 			<ic:ch.walo.poc.lead.component.Address addressDatum="#{data.leadProcessData.businessObject.customer.customerConnect.addressData[0]}" /> -->

		</p:panelGrid>
          
                 
    </p:panel>
 		  
 		   
 		  </p:tab>                 
   
 
  		  <p:tab id="model" title="Modell">
 		  
 		  <iframe scrolling="no" src="https://fqteamsplattformhosting.z6.web.core.windows.net/" title="Demo"></iframe>
 		   
 		  </p:tab>   
 
  		  <p:tab id="formControls" title="FormControls">
 		  
 		  <p:fieldset style="background-color: coral;" legend="Subform" toggleable="true" >
 		  
 		  
			         <p:panelGrid columns="2" layout="grid" styleClass="ui-panelgrid-blank ui-fluid" 
			          columnClasses="ui-g-12 ui-md-3 ui-lg-2, ui-g-12 ui-md-9 ui-lg-4, ui-g-12 ui-md-3 ui-lg-2, ui-g-12 ui-md-9 ui-lg-4">
			          
			          <p:outputLabel value="Toggle"></p:outputLabel>
			          <p:toggleSwitch value="#{data.toggle}">
			          
			          <p:ajax update="formControls"   ></p:ajax>
			          </p:toggleSwitch>
			          
			          </p:panelGrid>
 		  
 		  <ic:com.axonivy.portal.components.UserSelection componentId="default-user-autocomplete"
   selectedUser="#{data.selectedUserDemo}" label="Default user selection"
   isRequired="#{data.toggle}" labelPanelStyleClass="ui-g-6 ui-md-6 ui-sm-12"
   autoCompleteStyleClass="width-100" autoCompletePanelStyleClass="ui-g-6 ui-sm-12" />
 		  
 		  
 		  </p:fieldset>
 		  
 		   
 		  </p:tab>     
 		  
 		  </p:wizard>
 		  <p:spacer></p:spacer>
    <p:fieldset legend="Approval" rendered="#{data.bvisApproval}">
    
					<ic:ch.walo.poc.lead.component.Approver approver="#{data.leadProcessData.businessObject.approvalHier.get(data.approvalLevelIndex)}"  />

	</p:fieldset>		        
        
<!--         <p:panelGrid columns="2" layout="grid" styleClass="ui-panelgrid-blank ui-fluid"  -->
<!--           columnClasses="ui-g-12 ui-md-3 ui-lg-2, ui-g-12 ui-md-9 ui-lg-4, ui-g-12 ui-md-3 ui-lg-2, ui-g-12 ui-md-9 ui-lg-4"> -->

          <!-- No 'form field [java.util.List<ch.walo.stamm.AddressDatum>]' template found for field 'leadProcessData.businessObject.customer.addressData'. -->
          
          <!-- No 'form field [Object]' template found for field 'leadProcessData.businessObject.customer.customerID'. -->
          
          <!-- No 'form field [Integer]' template found for field 'leadProcessData.businessObject.customer.customerNumber'. -->

<!--         </p:panelGrid> -->
        <br />
        <div class="command-btns">
          <p:commandLink id="cancel" actionListener="#{ivyWorkflowView.cancel()}" value="Cancel" />
          <p:commandButton id="proceed" actionListener="#{logic.close}" value="Proceed" update="form" icon="pi pi-check" />
        </div>
        

        
        
        
      </h:form>

    </ui:define>
  </ui:composition>
</h:body>

</html>